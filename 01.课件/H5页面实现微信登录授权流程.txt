前言:微信中具有一个自带的浏览器,只有在这个浏览器网页中访问的网站,才能够使用微信授权功能

1.当用户点击了页面上的某个按钮时,我们会弹出窗口询问用户,是否允许进行微信授权
	如果用户点击了允许按钮,就会执行我们封装的回调函数,进入流程2
		需要准备的内容:
			1.callbackUrl
				他是用于后续授权成功之后,服务器获取个人信息的渠道
					用户的信息会通过该接口发送给我们自家的公司服务器

				注意:该接口由后端提供

			2.state
				需要传递的某些数据

			3.wechatId(其实就是AppId)
				用于向微信官方说明当前是哪家公司在获取用户个人信息

			4.redirectURI
				这个是用户进入流程2的方法,该接口由微信官方提供
				只要在微信浏览器中,打开当前链接,就会跳转到指定页面,微信会自动弹出授权窗口

		在当前流程中,会使用window.localtion.href=redirectURI进行页面的跳转
			从我们自己的h5网页跳转到微信官方的open.weixin.qq.com网址

2.打开open.weixin.qq.com网址之后,浏览器会弹出授权窗口,询问用户是否允许给予用户个人信息
	如果用户点击允许,当前网页地址就会跳转到流程1中准备的callbackURL
		跳转callbackURL的时候,将会在该接口之后,以query字符串的形式,拼接用户的临时登录凭证code

		在当前流程中,微信浏览器会自动跳转到新的页面
			从open.weixin.qq.com跳转到我们公司的接口
			发送请求,传递数据给公司服务器,但是还没有响应

3.公司服务器获取到用户的code码之后,会发送请求,将该code码兑换成用户的身份凭证token字符串
	token是用户的身份唯一标识

4.公司服务器获取到用户的token数据之后,再次发送请求,将token字符串兑换成用户的基本信息
	基本信息中就有用户的昵称,头像等数据

5.公司服务器对流程2中的前端请求,返回响应,将当前浏览器的地址重定向到公司h5网页的地址上
	从流程1准备的callbackURL地址跳转回到公司的h5网页中
		公司服务器通过在路径中使用query传参,给前端h5页面传递用户相关信息
			信息可以是少量的昵称,头像等
				也可以是用户在公司服务器上的唯一标识token,后续可以通过ajax兑换用户基本信息



参考地址:https://blog.csdn.net/z9061/article/details/105988489